{% extends 'blog/base.html' %}


{% block news%}
{% for new in news.all %}
<div class="jumbotron jumbotron-fluid">
  <div class="container">
    <h1 class="display-3">{{ new.title }}</h1>
    <p>{{ new.text }}</p>
    <p><a class="btn btn-primary btn-lg" href="#" role="button">Read &raquo;</a></p>
  </div>
</div>
{% endfor %}
{% endblock %}


{% block content %}
{% for post in posts%}
<div class="col-md-4 mt-4">
  <div class="card profile-card-5 bg-color-news">
    <strong class="d-inline-block mb-2 text-primary">Category: {{ post.category }}</strong>
    <div class="mb-1 text-muted">{{ post.date }}</div>
    <div class="card-img-block">
      <img class="card-img-top" src="{{ post.image.url }}" alt="Card image cap">
    </div>
    <div class="card-body pt-0">
      <h5 class="card-title">{{ post.title }}</h5>
      <p class="card-text">{{ post.summary }}</p>
      <a href="{% url 'detail' post.id %}" class="btn btn-primary">Read more &rarr;</a>
    </div>
  </div>
</div>
{% endfor %}
{% endblock %}


{% block page %}
<div class="paginator container text-center">
  <div class="col-lg-4 col-lg-offset-4">
    <br>
  {% if posts.has_previous %}
  <a class="paginator-action" href="?page=1"><i class="fas fa-angle-double-left"></i></a>
  <a class="paginator-action" href="?page={{ posts.pervious_page_number }}"><i class="fas fa-angle-left"></i></a>
  {% endif %}
  {% for num in posts.paginator.page_range %}
  {% if posts.number == num %}
  <span class="paginator-number paginator-current" >{{ num }}</span>
  {% elif num > posts.number|add:'-2' and num < posts.number|add:'2' %}
  <a class="" href="?page={{ num }}">{{ num }}</a>
  {% endif %}
  {% endfor %}
  {% if posts.has_next %}
  <a class="paginator-action" href="?page={{ posts.next_page_number }}"><i class="fas fa-angle-right"></i></a>
  <a class="paginator-action" href="?page={{ posts.paginator.num_pages }}"><i class="fas fa-angle-double-right"></i></a>
  {% endif %}
</div>
</div>
{% endblock %}
